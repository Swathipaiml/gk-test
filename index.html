<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GK Online Test</title>

<style>
body { font-family: Arial; padding:20px; }
.question { margin-bottom:15px; }
button { padding:10px 20px; font-size:16px; }
</style>
</head>

<body>

<h2>General Knowledge Test</h2>
<p>âš  Do NOT switch tabs/windows. Max allowed: 2</p>

<div id="quiz"></div>

<button onclick="submitTest()">Submit Test</button>

<script>
console.log("JS loaded");

const questions = [
  { q: "Capital of India?", options: ["Mumbai","Delhi","Kolkata","Chennai"], correct: 1 },
  { q: "National animal of India?", options: ["Lion","Tiger","Elephant","Leopard"], correct: 1 },
  { q: "Largest planet?", options: ["Earth","Mars","Jupiter","Saturn"], correct: 2 }
];

const quiz = document.getElementById("quiz");

questions.forEach((item, index) => {
  const div = document.createElement("div");
  div.className = "question";

  let html = <p>${index + 1}. ${item.q}</p>;
  item.options.forEach((opt, i) => {
    html += `
      <label>
        <input type="radio" name="q${index}" value="${i}">
        ${opt}
      </label><br>
    `;
  });

  div.innerHTML = html;
  quiz.appendChild(div);
});

let switchCount = 0;
document.addEventListener("visibilitychange", () => {
  if (document.hidden) {
    switchCount++;
    alert("Tab switched: " + switchCount);
  }
});

function submitTest() {
  let score = 0;
  questions.forEach((q, i) => {
    const ans = document.querySelector(input[name="q${i}"]:checked);
    if (ans && Number(ans.value) === q.correct) score++;
  });

  alert("Score: " + score + "/" + questions.length);
}
</script>

</body>
</html>
